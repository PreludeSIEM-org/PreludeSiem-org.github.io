<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Install Issue - Missing dependencies include setting up a WSGI server - PRELUDE SIEM - UNITY 360</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="sXlUM+KFiPN0MF7MAyk3mEwoDShCeybKdnOYQvq6zdCiVjxcK5GFcP6aVjYeYX7GMGN8tlhxf4So/VzSfrr50w==" />
<link rel='shortcut icon' href='/themes/prelude/favicon/Prelude-icon.png' />
<link rel="stylesheet" media="all" href="/stylesheets/jquery/jquery-ui-1.11.0.css" />
<link rel="stylesheet" media="all" href="/themes/prelude/stylesheets/application.css" />
<link rel="stylesheet" media="all" href="/stylesheets/responsive.css" />

<script src="/javascripts/jquery-1.11.1-ui-1.11.0-ujs-3.1.4.js"></script>
<script src="/javascripts/application.js"></script>
<script src="/javascripts/responsive.js"></script>
<script>
//<![CDATA[
$(window).load(function(){ warnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>





  <script src="/plugin_assets/redmine_wiki_extensions/javascripts/jquery.tablesorter.js"></script>
  <link rel="stylesheet" media="screen" href="/plugin_assets/redmine_wiki_extensions/stylesheets/wiki_extensions.css" />
  <link rel="stylesheet" media="print" href="/plugin_assets/redmine_wiki_extensions/stylesheets/wiki_extensions_print.css" />
  <script src="/plugin_assets/redmine_wiki_extensions/javascripts/wiki_extensions.js"></script>

<!-- page specific tags -->
</head>
<body class="theme-Prelude project-prelude controller-messages action-show">

<div id="wrapper">

<div class="flyout-menu js-flyout-menu">


        <div class="flyout-menu__search">
            <form action="/projects/prelude/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
            <input type="hidden" name="messages" value="1" />
            <label class="search-magnifier search-magnifier--flyout" for="flyout-search">&#9906;</label>
            <input type="text" name="q" id="flyout-search" class="small js-search-input" placeholder="Search" />
</form>        </div>


        <h3>Project</h3>
        <span class="js-project-menu"></span>

    <h3>General</h3>
    <span class="js-general-menu"></span>

    <span class="js-sidebar flyout-menu__sidebar"></span>

    <h3>Profile</h3>
    <span class="js-profile-menu"></span>

</div>

<div id="wrapper2">
<div id="wrapper3">
<div id="top-menu">
    <div id="account">
        <ul><li><a class="login" href="/login">Sign in</a></li><li><a class="register" href="/account/register">Register</a></li></ul>    </div>
    
    <ul><li><a class="PreludeOSS" href="/projects/prelude">Prelude OSS</a></li><li><a target="_blank" class="SIEMVersion" href="http://www.prelude-siem.com">Prelude SIEM</a></li><li><a class="VigiloOSS" href="/projects/vigilo-nms">Vigilo OSS</a></li><li><a target="_blank" class="NMSVersion" href="http://www.vigilo-nms.com">Vigilo NMS</a></li><li><a class="|" href="#">|</a></li><li><a class="Projects" href="/projects">Projects</a></li></ul></div>

<div id="header">

    <a href="#" class="mobile-toggle-button js-flyout-menu-toggle-button"></a>

    <div id="quick-search">
        <form action="/projects/prelude/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="messages" value="1" />
        <label for='q'>
          <a accesskey="4" href="/projects/prelude/search">Search</a>:
        </label>
        <input type="text" name="q" id="q" size="20" class="small" accesskey="f" />
</form>        
    </div>

    <h1>
        <img src="/themes/prelude/img/prelude-logo.png" style="height: 55px"/>
        <a href="https://www.ow2.org/bin/view/Press_Releases/OW2_Open_Source_Community_announces_OW2con_16_Best_Project_Awards" target="_blank"><img src="/themes/prelude/img/ow2-logo.png" style="margin-top: -10px; height: 55px"/></a>
    </h1>

    
    <div id="main-menu" class="tabs">
        <ul><li><a class="overview" href="/projects/prelude">Overview</a></li><li><a class="activity" href="/projects/prelude/activity">Activity</a></li><li><a class="roadmap" href="/projects/prelude/roadmap">Roadmap</a></li><li><a class="issues" href="/projects/prelude/issues">Issues</a></li><li><a class="MyWiki" href="/projects/prelude/wiki">Documentation</a></li><li><a class="boards selected" href="/projects/prelude/boards">Forums</a></li><li><a class="MyFiles" href="/projects/prelude/files">Downloads</a></li><li><a target="_blank" class="screenshot" href="https://www.prelude-siem.com/prelude-siem/#alerter">Screenshot</a></li><li><a target="_blank" class="IDMEFProbe" href="https://www.prelude-siem.com/en/technological-partners/">IDMEF Probes</a></li><li><a target="_blank" class="PrewikkaApps" href="https://github.com/Prelude-SIEM-Contrib">SIEM Apps</a></li></ul>
        <div class="tabs-buttons" style="display:none;">
            <button class="tab-left" onclick="moveTabLeft(this); return false;"></button>
            <button class="tab-right" onclick="moveTabRight(this); return false;"></button>
        </div>
    </div>
</div>

<div id="main" class="nosidebar">
    <div id="sidebar">
        
        
    </div>

    <div id="content">
        
        <p class="breadcrumb"><a href="/projects/prelude/boards">Forums</a> » <a href="/projects/prelude/boards/1">User</a> » </p>

<div class="contextual">
    
    
    
    
</div>

<h2>Install Issue - Missing dependencies include setting up a WSGI server</h2>

<div class="message">
<p><span class="author">Added by <a class="user active" href="/users/589">Tony Su</a> <a title="12/16/2016 06:28 PM" href="/projects/prelude/activity?from=2016-12-16">almost 8 years</a> ago</span></p>
<div class="wiki">
<p>It would have been nice for all dependencies to be identified and installed before installing the prelude prewikia components...</p>


	<p>Now,<br />My question is whether there are required settings to configure a "typical" Apache2 uWSGI server to point to the file locations prelude installs its prewikia site... so that configuration can be verified complete.</p>


	<p>Also, if time and resources allow, I'd request similar instructions for other WSGI servers, in particular popular servers like nginx, perhaps nodejs.</p>


	<p>TIA.</p>
</div>

</div>
<br />

<h3 class="comments">Replies (2)</h3>
  <div class="message reply" id="message-103">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/1/topics/97?r=103#message-103">RE: Install Issue - Missing dependencies include setting up a WSGI server</a>
    -
    Added by <a class="user active" href="/users/301">Thomas </a> <a title="12/18/2016 10:57 PM" href="/projects/prelude/activity?from=2016-12-18">almost 8 years</a> ago
  </h4>
  <div class="wiki"><p>Hello</p>


	<p>If you use the packaged version, all dependencies are installed before prewikka.</p>


	<p>In the script directory, you have the prewikka.wsgi script that has to be used with web server.<br />There are no special configuration to use, it should work out of the box. Let us know if you have some issues.</p>


	<p>We do not have time for other WSGI server but you can contribute so we can complete the wiki.</p>


	<p>Regards</p></div>
  
  </div>
  <div class="message reply" id="message-106">
    <div class="contextual">
      
      
      
    </div>
  <h4>
    
    <a href="/boards/1/topics/97?r=106#message-106">RE: Install Issue - Missing dependencies include setting up a WSGI server</a>
    -
    Added by <a class="user active" href="/users/589">Tony Su</a> <a title="12/19/2016 03:12 AM" href="/projects/prelude/activity?from=2016-12-19">almost 8 years</a> ago
  </h4>
  <div class="wiki"><p>OK,<br />The following is not fully tested for official documentation quality but early use suggests is largely correct (Consider the following comparable to a very rough draft, but can be extremely useful for someone speedily installing the following components). When I have a fully working Prelude, only then can I consider the following "official documentation ready."</p>


	<p>All tested on 42.2.<br />The preformatted code blocks are written so that they can be be implemented "as is" in one or more scripts.<br />All zypper commands include flags to make the commands non-interactive, again making them more suitable for embedding in scripts.</p>


	<p>Option:<br />Install LAMP for use with Prelude and Prewikka packages (does not include packages for building from source).<br />Be aware if building from source that "mysql-devel" rpm packages do not exist for any distro except CentOS/RHEL, if building from source should install PostgreSQL instead (the next option) or SQLite3 which both have "-devel" packages.</p>


<pre>
zypper -n in patterns-openSUSE-lamp_server apache2-mod_uwsgi apache2-mod_wsgi uwsgi-lua uwsgi-python
patterns-openSUSE-base
</pre>

	<p>Option: <br />Install "LAPostgreSQLP" in other words, LAMP but replacing MySQL with PostgreSQL<br />Also, if building from source, then this option or install SQLite3 can be chosen (Do not choose MySQL/Mariadb)</p>


<pre>
zypper -n in apache2 yast2-http-server apache2-doc apache2-example-pages apache2-mod_perl apache2-mod_php5 apache2-mod_python apache2-prefork php5-ctype php5-dom php5-iconv php5-gd php5-mbstring php5-zlib php5-zip postgresql postgresql-contrib postgresql-server postgresql-devel postgresql-docs
</pre> 

	<p>If building from source, then choose one of the above two options, plus the following to install packages required for building from source</p>


<pre>
zypper -n ar -f http://download.opensuse.org/repositories/devel:/languages:/lua/openSUSE_Leap_42.2/ devel:languages:lua &#38;&#38; \
zypper -n ar -f obs://build.opensuse.org/devel:languages:lua LUA:OBS &#38;&#38; \
zypper --gpg-auto-import-keys ref &#38;&#38;\

zypper -n in pcre-devel pcre-doc pcre-tools patterns-openSUSE-devel_python libgcrypt-devel gnutils libgnutls-devel ruby-devel gcc-c++ python-lesscpy python-argparse
</pre>

	<p>Although the Prelude docs generally don't start up services immediately, my SOP is to do so to check and verify they are in working order. This means that if the following services are already started, then it's likely that they will need to be "reloaded" before being restarted to implement later Prelude modifications.</p>


<pre>
# Start and enable services to start on boot. If using postgresql, then replace "mysql" with "postgresql" 
systemctl start apache2.service &#38;&#38; \
systemctl enable apache2.service &#38;&#38; \
systemctl start uwsgi.service &#38;&#38; \
systemctl enable uwsgi.service &#38;&#38; \
systemctl start mysql.service &#38;&#38; \
systemctl enable mysql.service
</pre>

	<p>After starting the database, security configuration and testing should be done before proceeding further.<br />The current Prelude packages documentation describe how to set up and configure on MySQL/Mariadb.</p>


	<p>I find it curious that mysql-devel is required for building from source, but is not mentioned when installing from packages. Whatever might be required for modifying MySQL/Mariadb when building from source is not implemented in the install from packages documentation.</p></div>
  
  </div>
<span class="pagination"><ul class="pages"></ul><span><span class="items">(1-2/2)</span> </span></span>



        
        <div style="clear:both;"></div>
    </div>
</div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
<div id="ajax-modal" style="display:none;"></div>

<div id="footer">
<!-- Piwik -->
<noscript><p><img src="//www.prelude-siem.org/piwik/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
<script type="text/javascript">
  var piwik_site_id = '3';

  var _paq = _paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(["setCookieDomain", "*.dev.prelude-ids.com"]);
  _paq.push(["setDomains", ["*.dev.prelude-ids.com","*.prelude-ids.org","*.prelude-siem.org","*.www.prelude-ids.org","*.www.prelude-siem.org", "*.vigilo-nms.org", "*.www.vigilo-nms.org"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//www.prelude-siem.org/piwik/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', piwik_site_id]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code -->
  <div class="bgl"><div class="bgr">
    Powered by <a href="https://www.redmine.org/">Redmine</a> &copy; 2006-2017 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111535491-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111535491-5');
</script>
 
</body>
</html>
